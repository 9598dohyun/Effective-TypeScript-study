# 3장 타입 추론

<br />

## 아이템19 추론 가능한 타입을 사용해 장황한 코드 방지하기

- 변수를 선언할 때마다 일일히 타입을 명시하지 마라
- 타입 추론을 통해 장황한 타입구문을 지양하자(1.ts)
- 비구조화 할당으로 타입 추론을 하자(2.ts)
- 함수 내에서 선언된 지역변수에는 타입을 명시하지 않는다.
- 타입 정보가 있는 라이브러리에서 콜백 함수의 매개변수 타입은 자동으로 추론되므로 명시하지 말자
- 타입 추론이 되는데도 타입을 명시하는 경우는 객체 리터럴과 함수반환

<br />

## 아이템20 다른 타입에는 다른 변수 사용하기

- 변수의 값은 바뀔수 있지만 타입은 바뀌지 않는다.
- 타입이 다른 값을 다룰때에는 변수를 재사용하지 말자

```ts
// Bad Case
let id: string | number = '12-34-456';

fetchProduct(id);

id = 123456;
fetchProductBySerialNumber(id);

// Good Case

const id = '12-34-56';
fetchProduct(id);

const serial = 123456;
fetchProductBySerialNumber(serial);
```

<br />

## 아이템21 타입 넓히기

타입스크립트가 타입 체크를 하는 컴파일 시점에 변수는 _가능한 값_ 들의 집합인 타입을 가진다.

상수를 사용해서 변수를 초기화할 때 타입을 명사히자 않으면 타입 체커는 타입을 결정해야 한다. ( 할당 가능한 값들 중에 유추해서 정해야 한다는 소리)

이러한 과정을 타입 넓히기 라고 한다.

타입 넓히기 과정을 좁게 만들어서 제어해야 하는데

1. const 사용

- let 대신 const를 사용하면 더 좁은 타입이 된다.

2. 명시적 타입 사용
3. const 단언문 사용

- 값 뒤에 as const 를 작성하면 타입스크립트는 최대한 좁은 타입으로 추론한다.

<br />

## 아이템22 타입 좁히기

- 타입스크립트가 타입을 좁히는 과정을 살펴보자(3.ts)
- 태그된 유니온 기법 (4.ts)
- 사용자 정의 타입 가드 (5.ts)

<br />

## 아이템23 한꺼번에 객체 생성하기

- 속성을 제각각 추가하지 말고 한꺼번에 객체로 만들어라 (6.ts)
- 안전한 타입으로 속성을 추가하려면 객체 전개를 사용해라
- 객체에 조건부로 속성을 추가하는 방법을 익히자

<br />

## 아이템24 일관성 있는 별칭 사용하기

- 별칭은 타입스크립트가 타입을 좁히는 것을 방해한다. 따라서 별칭을 사용할 때는 일관되게 사용해라(7.ts)

<br />

## 아이템25 비동기 코드에는 콜백 대신 async 함수 사용하기

- 콜백보다는 프로미스를 사용하는게 코드 작성과 타입 추론에서 유리하다.
- 가능하다면 프로미스를 생성하기 보다는 async 와 await을 사용하는것이 좋다.
- 어떤 함수가 프로미스를 반환한다면 async로 선언해라.
- 더 간결하고 직관적인 코드가 된다.
- async 함수는 항상 프로미스를 반환하도록 강제 된다.(8.ts)

<br />

## 아이템26 타입 추론에 문맥이 어떻게 사용되는지 이해하기

- 타입 추론에서 문맥이 어떻게 쓰이는지 주의하자(9.ts)
- 변수를 뽑아서 별도로 선언했을때 발생하는 문제점과 해결법(10.ts)

<br />

## 아이템27 함수형 기법과 라이브러리로 타입 흐름 유지하기

- 타입 흐름을 개선하고, 가독성을 높이고, 명시적인 타입구문의 필요성을 줄이기 위해 직접 작성하기 보다 내장함수나 로대시 같은 라이브러리를 써라.
- 로대시 많이쓰나?
